![유니온-파인드](/assets/images/algorithm/graph/union-find.png)

유니온-파인드(Union-Find) 알고리즘은 서로서 집합(Disjoint Set)을 효율적으로 관리하기 위한 알고리즘이다.

- 서로서 집합(Disjoint Set)이란, 공통 원소를 가지지 않는 두 개 이상의 집합을 의미한다.
- 유니온-파인드 알고리즘은 그래프에서 사이클 판별, 같은 그룹에 속하는 노드 판별, 최소 신장 트리 구성(MST) 등 다양한 문제에서 활용된다.

#### 유니온-파인드(Union-Find) 연산

- 유니온(Union) 연산: 두 개의 서로서 집합을 하나의 집합으로 병합하는 연산이다.
- 파인드(Find) 연산: 특정 원소가 속한 집합의 대표(Root) 원소를 찾는 연산이다.
- 유니온(Union)과 파인드(Find) 연산을 조합하여, 원소들이 같은 집합에 속해 있는지를 판별하고 필요한 경우 병합함으로써 집합을 효율적으로 관리할 수 있다.

#### 유니온-파인드(Union-Find) 특징

- 트리 구조 기반:

  - 유니온-파인드 알고리즘은 결과적으로 트리 형태로 구성된다.
  - 각 노드는 자신의 부모 노드를 가리키며, 같은 집합에 속한 노드들은 공통된 최상위 노드(Root Node)를 공유한다.

- 재귀 함수를 이용한 구현:
  - 파인드(Find) 연산은 보통 재귀 함수를 사용하여 구현하는 경우가 많다.
  - 하지만, 트리가 한쪽으로 치우친 편향 트리(Skewed Tree)가 되면 성능이 저하될 수 있다.
  - 이를 방지하기 위해 경로 압축(Path Compression) 등의 최적화 기법을 적용하여 시간 복잡도를 개선할 수 있다.

<br />

### 유니온(Union) 연산: 두 개의 서로서 집합을 하나의 집합으로 병합

![유니온 연산](/assets/images/algorithm/graph/union-find_union.webp)

유니온(Union) 연산은 서로서 집합(Disjoint Set)을 관리하는 대표적인 연산으로, 특정 원소들이 속한 집합을 하나로 합치는 과정이다. 이를 1차원 배열을 이용해 표현할 수 있다.

#### 유니온(Union) 연산 특징

- union[index]: 원소의 위치를 나타내어 원소를 식별하는 역할
- value: 해당 원소가 속한 부모 정점을 가리킴

#### 유니온(Union) 연산 동작 과정

1. 초기 상태: 모든 원소는 자기 자신을 부모로 가짐

```javascript
parent = ["A", "B", "C", "D", "E"];
```

- 각 원소는 독립적인 집합에 속해 있으며, 자기 자신이 부모이다.

2. B 정점이 A 정점에 속하도록 유니온 연산 수행

```javascript
parent = ["A", "A", "C", "D", "E"];
```

- B 정점의 부모 정점을 A 정점으로 변경 → B 정점이 A 정점의 집합에 포함됨

3. D 정점이 A 정점에 속하도록 유니온 연산 수행

```javascript
parent = ["A", "A", "C", "A", "E"];
```

- D 정점의 부모 정점을 A 정점으로 변경 → D 정점이 A 정점의 집합에 포함됨

4. E 정점이 C 정점에 속하도록 유니온 연산 수행

```javascript
parent = ["A", "A", "C", "D", "C"];
```

- E 정점의 부모 정점을 C 정점으로 변경 → E 정점이 C 정점의 집합에 포함됨

5. E 정점이 B 정점에 속하도록 유니온 연산 수행

```javascript
parent = ["A", "A", "A", "D", "E"];
```

- E 정점은 C 정점에 속해 있으므로, C 정점의 최상위 부모를 B 정점의 부모 정점으로 변경해야 함
- C 정점의 최상위 부모는 C 자체 → C 정점의 부모 정점을 B 정점의 부모 정점 A 정점으로 변경
- E 정점 역시 A 정점에 속하게 됨

6. 집합 정보 확인

- 현재 각 원소들의 부모를 살펴보면, 일부 원소는 아직 직접적인 루트 노드를 가리키지 않을 수도 있음
- 예를 들어, E 정점의 부모 정점이 C 정점으로 남아 있을 수 있음
- 이를 해결하기 위해, 경로 압축(Path Compression)을 적용하면 모든 원소가 직접 루트 노드를 가리키도록 최적화가 가능

<br />

### 파인드(Find) 연산: 특정 원소가 속한 집합의 대표(Root) 원소를 찾는 연산

![유니온 연산](/assets/images/algorithm/graph/union-find_find.webp)

#### 파인드(Find) 연산을 수행하는 과정 _(예시: E 정점의 최상위 원소를 찾기 위한 과정)_

1. E 정점의 부모를 확인하면 C 정점이므로, C 정점으로 이동한다.
1. C 정점의 부모를 확인하면 A 정점이므로, A 정점으로 이동한다.
1. A 정점의 부모를 확인하면 자기 자신을 가리키므로 탐색을 종료한다.
1. 따라서, E 정점이 속한 집합의 대표 원소는 A 정점이다.

#### 두 원소가 같은 집합에 속해 있는지 판단하는 방법

- 두 원소의 최상위 부모가 동일하면 같은 집합에 속해있다는 의미
- 예를 들어, `find(E) === find(D)`가 참이면 E 정점과 D 정점은 같은 집합에 속해 있음
